From: <Saved by UnMHT Ver.8.3.0>
Subject: Cropping a video with MPlayer/FFmpeg
Date: Sun, 11 Dec 2016 00:10:45 +0100
MIME-Version: 1.0
X-UnMHT-Save-State: Current-State
Content-Type: multipart/related;
	boundary="----=_Part_E34C7671_CCD4D914.158EB00C1F5";
	type="text/html"

------=_Part_E34C7671_CCD4D914.158EB00C1F5
Content-Location: https://incenp.org/notes/2012/video-cropping.html
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset="UTF-8"

<!DOCTYPE html>
<html lang=3D"en"><head><meta charset=3D"UTF-8">
   =20
    <link href=3D"../../style.css" rel=3D"stylesheet" type=3D"text/css">
    <link href=3D"../../print.css" media=3D"print" rel=3D"stylesheet" type=
=3D"text/css">
    <meta content=3D"width=3Ddevice-width, initial-scale=3D1.0" name=3D"vie=
wport">
    <title>Cropping a video with MPlayer/FFmpeg</title>
  <base href=3D"https://incenp.org/notes/2012/"></head>
  <body style=3D"-moz-user-select: text;">
    <header>
      <h1>Blog-like notes</h1>
      <nav id=3D"breadcrumb">
        <ul>
          <li>
            <a href=3D"../../index.html">Home</a>
          </li>
          <li>
            <a href=3D"../index.html">Notes</a>
          </li>
          <li>
            <a href=3D"index.html">2012</a>
          </li>
        </ul>
      </nav>
    </header>
    <section>
      <h1>Cropping a video with MPlayer and FFmpeg</h1>
      <p>Let=E2=80=99s suppose you want to crop a video so to only keep a s=
elected region
of it: the <em>crop</em> filter of <a href=3D"http://ffmpeg.org">FFmpeg</a>=
 is
the appropriate tool for that. The following command:</p>
      <pre class=3D"console">$ ffmpeg -i input.avi -vf crop=3D<strong>w:h:x=
:y</strong> output.avi</pre>
      <p>would crop the source video in a rectangle of size <em>w</em>=C3=
=97<em>h</em>
pixels at position (<em>x</em>,<em>y</em>) from the top left
corner.<sup><a class=3D"footnote-call" href=3D"#footnote1" id=3D"fcall1">1<=
/a></sup></p>
      <p>Now if you don=E2=80=99t know exactly the size and position of the=
 rectangle you
want to crop, <a href=3D"http://www.mplayerhq.hu">MPlayer</a> offers an use=
ful
feature with its <em>rectangle</em> filter.</p>
      <p>Create a file <code>~/.mplayer/crop</code> containing the following
keybindings for <em>MPlayer</em>:</p>
      <pre class=3D"file">RIGHT change_rectangle 2  10
LEFT  change_rectangle 2 -10
UP    change_rectangle 3 -10
DOWN  change_rectangle 3  10
KP6   change_rectangle 0  10
KP4   change_rectangle 0 -10
KP8   change_rectangle 1  10
KP2   change_rectangle 1 -10</pre>
      <p>Start <em>MPlayer</em> on the video you want to crop, with the
<em>rectangle</em> filter and the special keybindings configuration you=E2=
=80=99ve
just created:</p>
      <pre class=3D"console">$ mplayer -vf rectangle -input conf=3Dcrop inp=
ut.avi</pre>
      <p>A white rectangle will frame the entire video; use the numeric key=
pad (keys
2, 4, 6 and 8) to resize the rectangle and the arrow keys to move it on the
region you want to crop. When you=E2=80=99re done, stop <em>MPlayer</em>; i=
t will have
written the current size and position of the rectangle on its standard
output:</p>
      <pre class=3D"console">rectangle: -vf rectangle=3D<strong>240:160:190=
:30</strong></pre>
      <p>Now you just have to use these values in the <em>FFmpeg</em> comma=
nd line
to crop the desired region.</p>
      <p>For more informations: <em>mplayer(1)</em> and the
<code>tech/slave.txt</code> file in <em>MPlayer</em>=E2=80=99s documentatio=
n.</p>
      <ol class=3D"footnotes">
        <li id=3D"footnote1"><a class=3D"footnote-call" href=3D"#fcall1">=
=E2=86=91</a> You could also use <em>MEncoder</em>, which uses exactly
the same syntax (<code>-vf crop</code>) for the same effect.</li>
      </ol>
      <p class=3D"pubdate">
        <time datetime=3D"2012-05-21">
          21 May 2012
        </time>
      </p>
    </section>
    <footer>
      <address>Contact: &lt;<a href=3D"mailto:webmaster@incenp.org">webmast=
er@incenp.org</a>&gt;</address>
      <p>Last update: <time datetime=3D"2016-10-29T10:06:57+02:00">Sat Oct =
29 10:06:57 CEST 2016</time> | <a href=3D"../../notes/index.atom">Atom feed=
</a> | <a href=3D"../../index.html#legal">Legal informations</a> | <a class=
=3D"dfrn" href=3D"https://social.incenp.org/profile/dgouttegattat">Friendic=
a</a></p>
    </footer>
 =20

</body></html>
------=_Part_E34C7671_CCD4D914.158EB00C1F5
Content-Location: https://incenp.org/style.css
Content-Transfer-Encoding: quoted-printable
Content-Type: text/css

/* Enforce block display of HTML5 elements
 * for HTML5-unaware browsers. */
article, aside, details, figcaption, figure,
footer, header, menu, nav, section {
    display: block;
}

/* No default margins. */
* {
    margin: 0;
    padding: 0;
}

/* Global font settings. */
html {
    font: normal 112.5%/1.65 serif;
    color: #2e3436;
}


/*
 * Top-level header.
 */
body > header {
    border-bottom: solid 1px #000088;
    font-family: sans-serif;
    background-color: #eeeeec;
}

@media all and (min-width: 1000px) {
    body > header {
        font-size: x-small;
    }
}

body > header h1 {
    color: #204a87;
    padding-left: .2em;
    margin: 0;
}

body > header > nav ul {
    list-style-type: none;
    margin: .2ex 0 .2ex 0;
}

body > header > nav ul li {
    display: inline;
    padding: 0 .4em 0 .4em;
}

body > header > nav a {
    text-decoration: none;
    color: #204a87;
}

body > header > nav#breadcrumb li:last-child {
    font-weight: bold;
}


/*
 * Top-level footer.
 */

body > footer {
    margin: 4ex 0 0 0;
    padding-top: 1ex;
    border-top: solid 1px #204a87;
    text-align: center;
    font-size: small;
}

@media all and (min-width: 1000px) {
    body > footer {
        margin: 4ex 10% 0 10%;
    }
}

body > footer p {
    margin: 0;
}


/*
 * Main section.
 */

body > section, body > article {
    margin: 2ex 0 2ex 0;
    padding: 1ex;
    text-align: justify;
    hyphens: auto;
    position: relative;
}

@media all and (min-width: 1000px) {
    body > section, body > article {
        margin: 2ex 10% 2ex 10%;
    }
}

body > section > header, body > section > h1:first-child {
    margin-bottom: 4ex;
}

p {
    margin: .8ex 0 .8ex 0;
}

h1, h2, h3, h4, h5, h6 {
    color: #2e3436;
    margin: 1ex 0 .2ex 0;
}

ol, ul {
    margin-left: 2em;
}

ul:lang(fr) {
    list-style-type: hyphen;    /* French-style list; works on no browser :=
( */
}

sub, sup {
    line-height: 1;
    font-size: 60%;
}

a {
    color: #204a87;
}

p.pubdate {
    position: absolute;
    top: -2ex;
    right: 0px;
    font-size: x-small;
}

/* Note indexes. */

article {
    border-bottom: solid 1px #2e3436;
}

article h1 {
    text-transform: uppercase;
}

article p.note-info {
    font-size: 70%;
    font-style: italic;
    margin-bottom: 0;
}


/* Special blocks. */

div.download {
    margin-left: 1em;
    margin-right: 1em;
    background: #eeeeec;
    font-family: monospace;
}

div.note, div.caution {
    margin: 2ex 0 2ex 3em;
    padding: 0 .5em 0 .5em;
    border-top: solid 1px #729fcf;
    border-left: solid 8px #729fcf;
    font-size: small;
}

pre {
    margin: 1.5ex 1em;
    font-family: monospace;
}

pre.console {
    background-color: #2e3436;
    color: #eeeeec;
}

pre.file, div.input_area pre {
    border-top: dashed 1px #2e3436;
    border-bottom: dashed 1px #2e3436;
    background-color: #eeeeec;
}

blockquote {
    margin-left: 3em;
    padding: 0 .2em 0 .2em;
    background-color: #eeeeec;
    font-style: italic;
}

p.quoteattr {
    font-size: small;
    text-align: right;
}

p.quoteattr:before {
    content: "=E2=80=94";
}

span.link-extra {
    font-size: 60%;
}

p.reference, ul.references {
    font-size: 70%;
}

div.header-notes {
    font-size: 60%;
    padding: 0 2em 0 2em;
}

figure {
    margin-top: 2ex;
    margin-bottom: 2ex;
}

figure img {
    float: left;
    margin-right: .5em;
}

figure figcaption {
    font-size: 70%;
}

figure + p {
    clear: both;
}


/* Tables. */

table {
    border-collapse: collapse;
    border-bottom: solid .2ex #2e3436;
    margin: 2ex auto 3ex auto;
    text-align: left;
}

table td {
    padding: .2ex .5em .2ex .5em;
}

thead tr {
    font-weight: bold;
    border-top: solid .2ex #2e3436;
    border-bottom: solid .2ex #2e3436;
}

th {
    border-top: solid .1ex #2e3436;
    border-bottom: solid .1ex #2e3436;
}

table.figures {
    font-size: 70%;
}


/* Link icons. */

a[hreflang=3Den]:after {
    content: url('imgs/en.png');
    bottom: .6ex;
    position: relative;
}

a[hreflang=3Dfr]:after {
    content: url('imgs/fr.png');
    bottom: .6ex;
    position: relative;
}

a[href^=3Dmailto]:after {
    content: url('imgs/mailto.png');
    bottom: .6ex;
    left: .2em;
    position: relative;
}

a[href^=3Dxmpp]:after {
    content: url('imgs/xmpp.png');
    bottom: .6ex;
    left: .2em;
    position: relative;
}

a[href^=3Dsip]:after {
    content: url('imgs/sip.png');
    bottom: .6ex;
    left: .2em;
    position: relative;
}

a[href$=3Datom]:before {
    content: url('imgs/atom.png');
    margin-right: .2em;
}

a.dfrn:before {
    content: url('imgs/friendica.png');
    margin-right: .2em;
}

a.fred:before {
    content: url('imgs/fred.png');
    margin-right: .2em;
}


/* Footnotes. */

a.footnote-call {
    text-decoration: none;
}

ol.footnotes {
    margin: 2ex 0 1ex 0;
    padding-left: 2em;
    border-top: solid 1px #2e3436;
    font-size: 70%;
}

------=_Part_E34C7671_CCD4D914.158EB00C1F5
Content-Location: https://incenp.org/print.css
Content-Transfer-Encoding: quoted-printable
Content-Type: text/css

/* Print only the body, without header or footer. */
body > header, body > footer {
    display: none;
}

body {
    font-size: 8pt;
}

body > section {
    margin: 0px;
}

/* No language flags after links. */
a:after {
    display: none;
}

------=_Part_E34C7671_CCD4D914.158EB00C1F5
Content-Location: https://incenp.org/imgs/mailto.png
Content-Transfer-Encoding: base64
Content-Type: image/png

iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAACeAAAAngBfumvsQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAG9SURB
VCiRdZLNbhNRDEaPfe9kOpO/tiDUQESREO/Auiuejydh1R2skJBYsGCLRKgKCdCi0jajSSf32izS
qkJQr+xP9tFny3L5audLb3owFRHujDgWQi2ggIGtvD1+c/yhfvk8rnM198X7/f7e/p3znhqyT0BK
hJb14p2c69P9tekLjVW9FBnQLI7uBIg1BDtF04zu+DVabJF0BwDNyWMcjsi5ppnPwP0/CEPSKauv
H4nDB/RGQ7hu09RJka8SvfGYtK5pFv9CPCeabzOK3UcUdbXRbgCepcidkdeZcntMe6Es5zNcKpwK
S9B8/0zv3pRiq7yF+ubo0RIhdQk1pV1eEMqIyYDfs09oUEIM9CfPaH8eIXFCLMq/HMScrOAqkc5a
tHDK0S5aKMWgIgRFCwWg3ntCs5jD9jaxqnG7BphL6M4ukRCohgNSlwimuClExT2COxoD/clDlj9O
KFK+XSGv0n2JQ8pBBaIgihNwF8wVd4WsuCiO0p88pv11Rrg6gT5E85B64ymm4CJkB5IgBrJWVATU
ERFEFUQgD7FVt/mRw8PDUehxICIigpi5bnITMxHY6De1IIKYuKtG8bd/ACRHzii9o8g1AAAAAElF
TkSuQmCC

------=_Part_E34C7671_CCD4D914.158EB00C1F5
Content-Location: https://incenp.org/imgs/atom.png
Content-Transfer-Encoding: base64
Content-Type: image/png

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALBSURB
VDiNdZNNaJxVFIafc76fmXammcaMTVJDxhSMNMEWjVh/EKml6kJQISQ7Y0txVygoosUiKNql4tKF
FF2lm4q4UEFUxJ9NqiA0GmuiVpuCGWqdJp3v++69x8XXRFrxwuU9m+fe95yXI2bG6acGp7b09R2v
9dRHVFREQVQQKRUFEUEUgpldXP5rqbPSfuGOE8snZW5mYGpo9JZZd7GDqBElgsaKJoLG192ofESj
iKyosPDNmeno2X2t9+PM9SbbhqndO4lWq4i/jJL/D1yqeEe3qxNxrac+Imtdkhu2Ud9/mPUTLp2n
mHsHP//edbDgs4DLAo1mY0RVVKJEsLUVirNfElbbAGhjO5UHn6f62JtoT/9/YJ8ZYohceOUei1x2
Tc9R40bSXY+T3HkANIZiFf/Fq7iFTzdglwWcVFBRQRMhbe1my8wJNu1/jnhoN/702+SnDmLtnyCp
Ed1/DF/p34B9HrBgqAjlz2lKNDBOsmuSyiOvkT76Buo6+A8OYX/OQ7KJdN8xXGb4POBzwwJXHcSC
tX8g+/hF/PcnwWXo0B7iJ94lxE26H70MPiceniC9fRKfG6G46gAtHUi4gi1+gvv6ddypJ7H2j5DW
iR44SnF+kbXP3wJg896nCUXAF+sO5N+co9GHSO47ApZTfHgUiitEQxNEtz7M2lezYIbWeqE+ULZg
hq7nqz39JHtfQsenkdsOUKz8TjY3C0DU2oPrXMa1zwEQbx8jOMMMNJiZKEh+CbK/AfArv+AzI1/6
tgQGdxKKQP7bGQDS4TGCN8zMZOGZ8Z9v3rl1h6jhQ5VQHaT4YwGXBQJV4tZdhMKx+t1naN8O4maL
vL1M9us81muLMjczMDV699hsQheXuWtyXp+2L6ysnRG8gSqbb9rKhXNnp2VjnZt9xxvNxogYYh4s
lFPeUCt7NjPr5qtLnXa5zv8ARpJvmW/Tzr4AAAAASUVORK5CYII=

------=_Part_E34C7671_CCD4D914.158EB00C1F5
Content-Location: https://incenp.org/imgs/friendica.png
Content-Transfer-Encoding: base64
Content-Type: image/png

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A
/wD/oL2nkwAAApxJREFUOMtlkb1rZGUYxX/n3vfOh5MPZ3azQTArfrGVIupWC2IjYqV2trb2/hH+
AXaCKIsggtiqWAiCooWLjUHjJroBd+NuYpKZ3Ln3vu97LGY2Ij7F8zTnHA6/Rx9ev77+7OPFuw+u
5DdwLHOK4OicOzlHnBLDXseXPxXsNFtOo4liO6c5Ptybbn97NTw23v/48mrx0rCf5BQzTpKj7AiO
kCPVKFLXgf36IcXewKkTncaX67Unb4VxdfvlfkoObcQpSopQJiiWAYrQj/x9VLF78iiJS6S2dtd2
RZNGgzA7+I48HJieJZIOTxM7t6Y+unNXRSlwYnUl8uP3Y/ZWr0BvizSfKsdEnDYO08Nf8KWRyAX0
YO/mjPe/HurX8Dxldwo2/Srzc7Puk7WRirO5HBNOyanrFEQ2uRYuIJS+e3CoH/afZvuFtynu7RqE
jaorVlVg5RaKUsayRAAE5eIgSaIMBWWoXFaVlgEuywwk8EIq24AC56PznXLJrBuoaisAY+gXuKcG
OUoSXhrCf/yzzLWrF/nimX2K6jWyswEmY/PWe6t8On1V+eHnKGNt/hdgcIZBJYZVBp+BtKjcy4Tc
k3K+Lz2f8G97kzOUI8FFQQ8vEoCNwivrEGYmGWTLYslAsOBhykHB9s6czz4Re/NNFe4MUPWtb7Yn
NBeGoLxEKYEIBXLKKCVRDsTu3hkffL7p7Quvi9mBFlRNf2PFq8OxQqwhJzlFJ6wwb6SmKy0VPFAW
OJmNrQ1NX3wF/fXb/Z9BynLX2PUpknCKSs2UcGPHv29OtDVZk7okZk0gtpF8dBsd38OAnZfojG3b
yPOZ0587Mbzz0ekToWDn2lO9RzYnJSd1pG1bd7NjUZ8u+HhpzFkIuWtp79z8o77x1Zv/AFE/isSr
Ht4TAAAAAElFTkSuQmCC

------=_Part_E34C7671_CCD4D914.158EB00C1F5--
